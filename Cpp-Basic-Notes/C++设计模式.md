# C++设计模式


### 单例设计模式

C++中的单例设计模式，只是一种组织全局变量和静态函数的方式，实现的方式有很多，例如单一的cpp，类，命名空间等，最重要的是实现封装成员数据，开发对外操作数据的接口。

#### 类的实现方式：
1. 保证实例全局唯一（私有构造函数，删除拷贝构造，删除赋值操作运算符）
2. 隐藏需要操作的数据，对外提供数据操作的方法


使用类实现单例的优势：
1. 语义性好
2. 允许存在一个实例进行操作（命名空间、单一的cpp无法做到实例化一个对象）


#### 问题一：静态函数中创建的局部变量在哪里？
> 栈

#### 问题二：函数中创建的局部静态变量又在哪里？
> 在静态区，函数内的静态变量初始化只会**在第一次进入函数时初始化一次**，后续调用不会重新初始化，而是沿用上次的值

举例：
```
void test() {
	static int b = 1; // 初始化一次
	b++;
	cout << b << endl;
}

int main() {
	test(); // 2
	test(); // 3
	test(); // 4
}
```
[learncpp](https://www.learncpp.com/cpp-tutorial/static-local-variables)


#### 单例设计的使用场景

> 需要一个全局唯一的可操作的实例时，例如网络通信的socket，获取随机数，数据库连接池，线程池等


###


### MVC


### MVVM

### 享元设计模式